// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  login     String   @unique
  password  String   @default("abcd1234")
  nome      String
}

model Motorista {
  id              String   @id @default(uuid())
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  nome            String
  celular         String
  telefone        String
  data_nascimento DateTime
  bairro          String
  endereco        String
  // vinculo         Vinculo  @relation(fields: [vinculo_id], references: [id])
  // vinculo_id      String   @default("1")
}

model Setor {
  id          String    @id @default(uuid())
  codigo      String    @unique
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  descricao   String
  sigla       String
  responsavel String
  ramal       String
  Veiculo     Veiculo[]
}

model Locadora {
  id        String    @id @default(uuid())
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  descricao String
  sigla     String
  endereco  String
  bairro    String
  telefone  String
  Veiculo   Veiculo[]
}

model TipoFrota {
  id        String    @id @default(uuid())
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  nome      String    @unique
  Veiculo   Veiculo[]
}

model Veiculo {
  id                   String    @id @default(uuid())
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt
  placa                String
  descricao            String
  componentes          String
  quilometragemInicial String
  quilometragemAtual   String
  tipoFrota            TipoFrota @relation(fields: [tipo_frota_id], references: [id])
  tipo_frota_id        String
  locadora             Locadora  @relation(fields: [locadora_id], references: [id])
  locadora_id          String
  setor                Setor     @relation(fields: [setor_id], references: [id])
  setor_id             String
  observacao           String
}

model Solicitacao {
  id            String   @id @default(uuid())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  ramal         String
  atividade     String
  municipio     String
  num_ocupantes Int
  status        String
  observacao    String
  setor         String
  tipo          String
}

model Vinculo {
  id        String      @id @default(uuid())
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
  nome      String
  // motorista Motorista[]
}
