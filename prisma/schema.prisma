generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model locadora {
  id        String    @id
  createdAt DateTime  @default(now())
  updatedAt DateTime
  nome      String    @unique(map: "Locadora_nome_key")
  sigla     String
  bairro    String
  endereco  String
  telefone  String
  veiculo   veiculo[]
}

model motorista {
  id              String   @id
  createdAt       DateTime @default(now())
  updatedAt       DateTime
  nome            String
  celular         String   @default("00000000000")
  telefone        String   @default("00000000000")
  data_nascimento DateTime
  bairro          String
  endereco        String
  vinculo_id      String
  ocupado         Boolean  @default(false)
  vinculo         vinculo  @relation(fields: [vinculo_id], references: [id], map: "Motorista_vinculo_id_fkey")

  @@index([vinculo_id], map: "Motorista_vinculo_id_fkey")
}

model municipio {
  id                   String                 @id
  createdAt            DateTime               @default(now())
  updatedAt            DateTime
  nome                 String                 @unique(map: "Municipio_nome_key")
  municipiosolicitacao municipiosolicitacao[]
}

model municipiosolicitacao {
  id             String      @id
  createdAt      DateTime    @default(now())
  updatedAt      DateTime
  solicitacao_id String
  municipio_id   String
  municipio      municipio   @relation(fields: [municipio_id], references: [id], map: "MunicipioSolicitacao_municipio_id_fkey")
  solicitacao    solicitacao @relation(fields: [solicitacao_id], references: [id], map: "MunicipioSolicitacao_solicitacao_id_fkey")

  @@index([municipio_id], map: "MunicipioSolicitacao_municipio_id_fkey")
  @@index([solicitacao_id], map: "MunicipioSolicitacao_solicitacao_id_fkey")
}

model setor {
  id          String        @id
  codigo      String        @unique(map: "Setor_codigo_key")
  createdAt   DateTime      @default(now())
  updatedAt   DateTime
  nome        String
  sigla       String
  responsavel String
  ramal       String
  solicitacao solicitacao[]
  veiculo     veiculo[]
}

model solicitacao {
  id                    String                 @id
  createdAt             DateTime               @default(now())
  updatedAt             DateTime
  ramal                 String
  atividade             String
  num_ocupantes         Int
  status                String
  observacao            String
  usuario               String
  setor_id              String
  status_solicitacao_id String
  tipo_solicitacao_id   String
  setor                 setor                  @relation(fields: [setor_id], references: [id], map: "Solicitacao_setor_id_fkey")
  statussolicitacao     statussolicitacao      @relation(fields: [status_solicitacao_id], references: [id], map: "Solicitacao_status_solicitacao_id_fkey")
  tiposolicitacao       tiposolicitacao        @relation(fields: [tipo_solicitacao_id], references: [id], map: "Solicitacao_tipo_solicitacao_id_fkey")
  municipiosolicitacao  municipiosolicitacao[]

  @@index([setor_id], map: "Solicitacao_setor_id_fkey")
  @@index([status_solicitacao_id], map: "Solicitacao_status_solicitacao_id_fkey")
  @@index([tipo_solicitacao_id], map: "Solicitacao_tipo_solicitacao_id_fkey")
}

model statussolicitacao {
  id          String        @id
  createdAt   DateTime      @default(now())
  updatedAt   DateTime
  nome        String        @unique(map: "StatusSolicitacao_nome_key")
  solicitacao solicitacao[]
}

model tipofrota {
  id        String    @id
  createdAt DateTime  @default(now())
  updatedAt DateTime
  nome      String    @unique(map: "TipoFrota_nome_key")
  veiculo   veiculo[]
}

model tiposolicitacao {
  id          String        @id
  createdAt   DateTime      @default(now())
  updatedAt   DateTime
  nome        String        @unique(map: "TipoSolicitacao_nome_key")
  solicitacao solicitacao[]
}

model usuario {
  id        String   @id
  createdAt DateTime @default(now())
  updatedAt DateTime
  login     String   @unique(map: "Usuario_login_key")
  password  String   @default("abcd1234")
  nome      String
}

model veiculo {
  id                   String    @id
  createdAt            DateTime  @default(now())
  updatedAt            DateTime
  placa                String    @unique(map: "Veiculo_placa_key")
  nome                 String
  componentes          String
  quilometragemInicial Int
  quilometragemAtual   Int
  tipo_frota_id        String
  locadora_id          String
  setor_id             String
  observacao           String    @default("")
  ocupado              Boolean   @default(false)
  locadora             locadora  @relation(fields: [locadora_id], references: [id], map: "Veiculo_locadora_id_fkey")
  setor                setor     @relation(fields: [setor_id], references: [id], map: "Veiculo_setor_id_fkey")
  tipofrota            tipofrota @relation(fields: [tipo_frota_id], references: [id], map: "Veiculo_tipo_frota_id_fkey")

  @@index([locadora_id], map: "Veiculo_locadora_id_fkey")
  @@index([setor_id], map: "Veiculo_setor_id_fkey")
  @@index([tipo_frota_id], map: "Veiculo_tipo_frota_id_fkey")
}

model vinculo {
  id        String      @id
  createdAt DateTime    @default(now())
  updatedAt DateTime
  nome      String      @unique(map: "Vinculo_nome_key")
  motorista motorista[]
}
